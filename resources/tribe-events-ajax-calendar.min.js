!function(a,b,c,d,e,f,g,h){c(b).ready(function(){function i(a){var b=a;10>a&&(b="0"+a);var d=c('.tribe-mobile-day[data-day="'+a+'"]'),e=c(".tribe-event-day-"+b+" .tribe-events-viewmore"),f=c(".tribe-event-day-"+b+" .hentry");f.length&&(f.each(function(){var a=c(this);if(a.tribe_has_attr("data-tribejson")){var b=a.data("tribejson");d.append(tribe_tmpl("tribe_tmpl_month_mobile",b))}}),e.length&&d.append(e.clone()))}function j(a,b){var d=c("#tribe-mobile-container"),e=c(".tribe-mobile-day"),f=c(".mobile-trigger"),g=c('.tribe-mobile-day[data-day="'+a+'"]'),h="undefined"==typeof b?"":b,j={date:a,date_name:h};f.removeClass("mobile-active"),f.filter('[data-day="'+a+'"]').addClass("mobile-active"),e.hide(),g.length?g.show():(d.append(tribe_tmpl("tribe_tmpl_month_mobile_day_header",j)),i(a))}function k(){var a=c(".tribe-events-present"),b=c(".mobile-trigger"),d=c("#tribe-events-content > .tribe-events-calendar");c("#tribe-mobile-container").length||c('<div id="tribe-mobile-container" />').insertAfter(d),a.length?j(a.attr("data-day"),a.attr("data-date-name")):j(b.first().attr("data-day"),b.first().attr("data-date-name"))}function l(){c(".tribe-events-calendar th").each(function(){var a=c(this),b=a.attr("data-day-abbr"),d=a.attr("title");a.text(p.is(".tribe-mobile")?b:d)})}function m(a){p.is(".tribe-mobile")?(l(),k()):a&&l()}function n(a){if("change_view"!=tribe_events_bar_action){if(a.preventDefault(),g.ajax_running)return;t.val().length?g.date="0"!==g.datepicker_format?tribeDateFormat(t.bootstrapDatepicker("getDate"),"tribeMonthQuery"):t.val():u||(g.date=d.cur_date.slice(0,-3)),d.cur_url=g.filter_cats?c("#tribe-events-header").data("baseurl")+g.date+"/":r+g.date+"/",g.popping=!1,f.pre_ajax(function(){o()})}}function o(){f.invalid_date(g.date)||(c(".tribe-events-calendar").tribe_spin(),g.pushcount=0,g.ajax_running=!0,g.popping||(g.params={action:"tribe_calendar",eventDate:g.date},g.category&&(g.params.tribe_event_category=g.category),g.url_params={},c(e).trigger("tribe_ev_serializeBar"),g.params=c.param(g.params),g.url_params=c.param(g.url_params),c(e).trigger("tribe_ev_collectParams"),g.pushcount>0||g.filters?(g.do_string=!0,g.pushstate=!1):(g.do_string=!1,g.pushstate=!0)),h.pushstate&&!g.filter_cats?(c(e).trigger("tribe_ev_ajaxStart").trigger("tribe_ev_monthView_AjaxStart"),c.post(TribeCalendar.ajaxurl,g.params,function(a){if(g.initial_load=!1,f.enable_inputs("#tribe_events_filters_form","input, select"),a.success){g.ajax_running=!1,d.ajax_response={total_count:"",view:a.view,max_pages:"",tribe_paged:"",timestamp:(new Date).getTime()};var h="";h=c.isFunction(c.fn.parseHTML)?c.parseHTML(a.html):a.html,c("#tribe-events-content").replaceWith(h),m(!0),g.page_title=c("#tribe-events-header").data("title"),b.title=g.page_title,g.do_string&&(d.cur_url=d.cur_url+"?"+g.url_params,history.pushState({tribe_date:g.date,tribe_params:g.params},g.page_title,d.cur_url)),g.pushstate&&history.pushState({tribe_date:g.date,tribe_params:g.params},g.page_title,d.cur_url),c(e).trigger("tribe_ev_ajaxSuccess").trigger("tribe_ev_monthView_ajaxSuccess")}})):a.location=g.url_params.length?d.cur_url+"?"+g.url_params:d.cur_url)}var p=c("body"),q=c('[class^="tribe-events-nav-"] a'),r="/",s=f.get_url_param("tribe-bar-date"),t=c("#tribe-bar-date"),u=!1;q.length&&(r=q.first().attr("href").slice(0,-8)),c(".tribe-events-calendar").length&&c("#tribe-events-bar").length&&s&&s.length>7&&(c("#tribe-bar-date-day").val(s.slice(-3)),t.val(s.substring(0,7)));var v="yyyy-mm";if("0"!==g.datepicker_format){var w=parseInt(g.datepicker_format),x="m"+g.datepicker_format.toString();v=d.datepicker_formats.month[w],s&&(s.length<=7&&(s+="-01"),t.val(tribeDateFormat(s,x)))}if(d.datepicker_opts={format:v,minViewMode:"months",autoclose:!0},t.bootstrapDatepicker(d.datepicker_opts).on("changeDate",function(a){g.mdate=a.date;var b=a.date.getFullYear(),e=("0"+(a.date.getMonth()+1)).slice(-2);if(u=!0,g.date=b+"-"+e,h.no_bar()||h.live_ajax()&&h.pushstate){if(g.ajax_running||g.updating_picker)return;d.cur_url=g.filter_cats?c("#tribe-events-header").data("baseurl")+g.date+"/":r+g.date+"/",g.popping=!1,f.pre_ajax(function(){o()})}}),m(!0),c(e).on("tribe_ev_resizeComplete",function(){m(!0)}),h.pushstate&&!h.map_view()){var y="action=tribe_calendar&eventDate="+c("#tribe-events-header").data("date");d.params.length&&(y=y+"&"+d.params),g.category&&(y=y+"&tribe_event_category="+g.category),history.replaceState({tribe_params:y},g.page_title,location.href),c(a).on("popstate",function(a){var b=a.originalEvent.state;b&&(g.do_string=!1,g.pushstate=!1,g.popping=!0,g.params=b.tribe_params,f.pre_ajax(function(){o()}),f.set_form(g.params))})}c("#tribe-events").on("click",".tribe-events-nav-previous, .tribe-events-nav-next",function(a){if(a.preventDefault(),!g.ajax_running){var b=c(this).find("a");g.date=b.data("month"),g.mdate=g.date+"-01",f.update_picker("0"!==g.datepicker_format?tribeDateFormat(g.mdate,x):g.date),d.cur_url=g.filter_cats?c("#tribe-events-header").data("baseurl"):b.attr("href"),g.popping=!1,f.pre_ajax(function(){o()})}}).on("click","td.tribe-events-thismonth a",function(a){a.stopPropagation()}).on("click",'[id*="tribe-events-daynum-"] a',function(a){if(p.is(".tribe-mobile")){a.preventDefault();var b=c(this).closest(".mobile-trigger");j(b.attr("data-day"),b.attr("data-date-name"))}}).on("click",".mobile-trigger",function(a){p.is(".tribe-mobile")&&(a.preventDefault(),a.stopPropagation(),j(c(this).attr("data-day"),c(this).attr("data-date-name")))}),f.snap("#tribe-bar-form","body","#tribe-events-footer .tribe-events-nav-previous, #tribe-events-footer .tribe-events-nav-next"),c("form#tribe-bar-form").on("submit",function(a){n(a)}),c(e).on("tribe_ev_runAjax",function(){o()}),c(e).on("tribe_ev_updatingRecurrence",function(){g.date=c("#tribe-events-header").data("date"),d.cur_url=g.filter_cats?c("#tribe-events-header").data("baseurl")+g.date+"/":r+g.date+"/",g.popping=!1})})}(window,document,jQuery,tribe_ev.data,tribe_ev.events,tribe_ev.fn,tribe_ev.state,tribe_ev.tests,tribe_debug);