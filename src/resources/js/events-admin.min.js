!function(e,t){"use strict";t.selector={container:".tribe-datetime-block",timepicker:".tribe-timepicker",all_day:"#allDayCheckbox",timezone:".tribe-field-timezone"},t.timepicker={opts:{forceRoundTime:!1,step:30}},t.timezone={link:_.template('<a href="#" class="tribe-change-timezone"><%= label %> <%= timezone %></a>')},t.$={},t.container=function(a,n){var i=e(n),r=i.find(t.selector.all_day),d=i.find(t.selector.timepicker),o=i.find(t.selector.timezone),s=e(t.timezone.link({label:o.data("timezoneLabel"),timezone:o.data("timezoneValue")}));r.on("change",function(){!0===r.prop("checked")?d.hide():d.show()}).trigger("change"),d.each(function(){var a=e(this),n=e.extend({},t.timepicker.opts);a.data("format")&&(n.timeFormat=a.data("format")),a.data("step")&&(n.step=a.data("step"));var i=a.data("round");i&&0!=i&&"false"!==i&&(n.forceRoundTime=!0),a.timepicker(n)}),s.on("click",function(){s.hide(),o.show().select2()}),o.after(s)},t.init=function(){t.$.containers=e(t.selector.container),t.$.containers.each(t.container)},e(document).ready(t.init)}(jQuery,{});var tribeDateFormat=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g,n=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e};return function(i,r,d){var o=tribeDateFormat;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(i)||/\d/.test(i)||(r=i,i=void 0),"string"==typeof i&&(i=i.replace(/-/g,"/")),i=i?new Date(i):new Date,!isNaN(i)){r=String(o.masks[r]||r||o.masks["default"]),"UTC:"==r.slice(0,4)&&(r=r.slice(4),d=!0);var s=d?"getUTC":"get",c=i[s+"Date"](),l=i[s+"Day"](),m=i[s+"Month"](),y=i[s+"FullYear"](),p=i[s+"Hours"](),h=i[s+"Minutes"](),_=i[s+"Seconds"](),f=i[s+"Milliseconds"](),u=d?0:i.getTimezoneOffset(),v={d:c,dd:n(c),ddd:o.i18n.dayNames[l],dddd:o.i18n.dayNames[l+7],m:m+1,mm:n(m+1),mmm:o.i18n.monthNames[m],mmmm:o.i18n.monthNames[m+12],yy:String(y).slice(2),yyyy:y,h:p%12||12,hh:n(p%12||12),H:p,HH:n(p),M:h,MM:n(h),s:_,ss:n(_),l:n(f,3),L:n(f>99?Math.round(f/10):f),t:p<12?"a":"p",tt:p<12?"am":"pm",T:p<12?"A":"P",TT:p<12?"AM":"PM",Z:d?"UTC":(String(i).match(t)||[""]).pop().replace(a,""),o:(u>0?"-":"+")+n(100*Math.floor(Math.abs(u)/60)+Math.abs(u)%60,4),S:["th","st","nd","rd"][c%10>3?0:(c%100-c%10!=10)*c%10]};return r.replace(e,function(e){return e in v?v[e]:e.slice(1,e.length-1)})}}}();tribeDateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",tribeQuery:"yyyy-mm-dd",tribeMonthQuery:"yyyy-mm",0:"yyyy-mm-dd",1:"m/d/yyyy",2:"mm/dd/yyyy",3:"d/m/yyyy",4:"dd/mm/yyyy",5:"m-d-yyyy",6:"mm-dd-yyyy",7:"d-m-yyyy",8:"dd-mm-yyyy",m0:"yyyy-mm",m1:"m/yyyy",m2:"mm/yyyy",m3:"m/yyyy",m4:"mm/yyyy",m5:"m-yyyy",m6:"mm-yyyy",m7:"m-yyyy",m8:"mm-yyyy"},tribeDateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(e,t){return tribeDateFormat(this,e,t)};var tribe_datepicker_opts={};jQuery(document).ready(function(e){function t(){return m&&e(window).width()<768?1:3}function a(e,t){var a=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((n-a)/u)}function n(e){"US"==e||"United States"==e?($.show(),$.length<1&&z.show(),A.hide()):""!=e?(A.show(),$.hide(),z.hide()):(A.show(),$.hide(),z.hide())}function i(){I.find("option").each(function(){var t=e(this);U[t.attr("value")]=t.text()})}function r(){var t=I.find("option:selected").first().val();I.find("option").remove(),Q.each(function(){var t=e(this);if(t.is(":checked")){var a=t.val();I.append('<option value="'+a+'">'+U[a]+"</option>")}});var a=I.find("option[value='"+t+"']");1===a.length?a.attr("selected","selected"):I.find("option").first().attr("selected","selected"),I.select2("destroy").select2({width:"250px"})}e(".bumpdown-trigger").bumpdown();var d=e("[data-datepicker_format]"),o=e(".tribe-field-dropdown_select2 select"),s=e("#view-calendar-link-div").html(),c=e('select[name="tribeEventsTemplate"]'),l=e("#tribe-event-datepickers"),m=e("body").is(".tribe_community_edit"),y=0,p={main:["yy-mm-dd","m/d/yy","mm/dd/yy","d/m/yy","dd/mm/yy","m-d-yy","mm-dd-yy","d-m-yy","dd-mm-yy"],month:["yy-mm","m/yy","mm/yy","m/yy","mm/yy","m-yy","mm-yy","m-yy","mm-yy"]};if(e(".chosen, .tribe-field-dropdown_chosen select").chosen(),e(".select2").select2({width:"250px"}),o.select2({width:"250px"}),e('[data-wp-lists="list:tribe_events_cat"]').each(function(){var t=e(this),a=t.find(":checkbox:checked").first();if(a.length){var n=t.find(":checkbox").position().top,i=a.position().top;t.closest(".tabs-panel").scrollTop(i-n+5)}}),e(s).insertAfter(".edit-php.post-type-tribe_events #wpbody-content .wrap h2:eq(0) a"),c.length&&""===c.val()){var h=c.find("option:selected").text();c.prev(".select2-container").children().children("span").text(h)}var _=function(t){function a(t,a,n){if("undefined"!=typeof window["tribe_sticky_"+t+"_fields"]&&e.isArray(window["tribe_sticky_"+t+"_fields"])){var i=e(n);if(0!==i.filter("tr.linked-post."+a).length){var r=window["tribe_sticky_"+t+"_fields"].shift();if("object"==typeof r)for(var d in r){var o=e(n).find('input[name="'+a+"["+d+'][]"]');o.length&&o.val(r[d])}}}}var n=e(document.getElementById("tmpl-tribe-select-"+t)).length?wp.template("tribe-select-"+t):null,i=e(document.getElementById("tmpl-tribe-create-"+t)).length?wp.template("tribe-create-"+t):null,r=e(document.getElementById("event_"+t)),d=r.find(".saved-linked-post");r.on("click",".tribe-add-post",function(a){a.preventDefault();var d=e({}),o=e({});if(n&&(d=e(n({}))),d.find(".nosaved").length){var s=d.find("label");s.text(s.data("l10n-create-"+t)),d.find(".nosaved").remove()}i&&(o=e(i({}))),r.find("tfoot").before(o),o.prepend(d),o.find(".chosen").chosen().trigger("change")}),r.on("change",".linked-post-dropdown",f),d.each(function(){var n,r=e(this),d=r.closest("tbody");n=i?e(i({})).find("tr"):d.find("tr").slice(2);var o=r.find(".linked-post-dropdown");if(o.length){var s=o.val();0!==parseInt(s,10)&&n.not(".remain-visible").hide()}else if(r.find(".nosaved").length){var c=r.find("label");c.text(c.data("l10n-create-"+t)),r.find(".nosaved").remove()}for(var l in tribe_events_linked_posts.post_types)tribe_events_linked_posts.post_types.hasOwnProperty(l)&&a(l,tribe_events_linked_posts.post_types[l],n);d.append(n)}),r.on("click",".delete-linked-post-group",function(t){t.preventDefault();var a=e(this).closest("tbody");a.fadeOut(500,function(){e(this).remove()})});var o="> tbody";e("body").hasClass("wp-admin")||(o="table "+o),r.sortable({items:o,handle:".move-linked-post-group",axis:"y",delay:100})},f=function(){var t=e(this),a=t.val(),n=t.closest("tbody"),i=n.find(".edit-linked-post-link a"),r=i.attr("data-admin-url");"0"!=a?(n.find(".linked-post").fadeOut().find("input").val(""),i.attr("href",r+a).show()):(n.find(".linked-post").fadeIn(),i.hide())};if(e(".hide-if-js").hide(),"undefined"!=typeof TEC){var u=864e5,v="yy-mm-dd";d.length&&1===d.attr("data-datepicker_format").length&&(y=d.attr("data-datepicker_format"),v=p.main[y]);var b=0;l.length&&(b=l.data("startofweek"));var g=e("#EventEndDate");tribe_datepicker_opts={dateFormat:v,showAnim:"fadeIn",changeMonth:!0,changeYear:!0,numberOfMonths:t(),firstDay:b,showButtonPanel:!0,beforeShow:function(e,a){a.input.datepicker("option","numberOfMonths",t()),a.input.data("prevDate",a.input.datepicker("getDate"))},onSelect:function(t){var n="EventStartDate"==this.id?"minDate":"maxDate",i=e(this).data("datepicker"),r=e.datepicker.parseDate(i.settings.dateFormat||e.datepicker._defaults.dateFormat,t,i.settings);if("EventStartDate"===this.id){var d=e("#EventStartDate").data("prevDate"),o=null==d?0:a(d,g.datepicker("getDate")),s=new Date(r.setDate(r.getDate()+o));g.datepicker("option",n,s).datepicker("setDate",s)}else w.not(this).not(".tribe-no-end-date-update").datepicker("option",n,r);e(this).change(),e(this).blur()}},e.extend(tribe_datepicker_opts,TEC);var k,w=e(".tribe-datepicker").datepicker(tribe_datepicker_opts),D=e("select[name='EventStartMonth'], select[name='EventEndMonth']"),x=e("select[name='EventStartMonth']"),E=e('select[name="EventEndMonth"]');if(m){var S={start:l.find("#EventStartDate"),end:l.next("tr").find("#EventEndDate")};e.each(S,function(t,a){var n=e(a);""!==n.val()&&n.val(tribeDateFormat(n.val(),y))})}var M=[29,31,28,31,30,31,30,31,31,30,31,30,31],T=[e("#28StartDays"),e("#29StartDays"),e("#30StartDays"),e("#31StartDays")],C=[e("#28EndDays"),e("#29EndDays"),e("#30EndDays"),e("#31EndDays")];D.change(function(){var t=e(this),a=t.attr("name");a="EventStartMonth"==a?"Start":"End";var n=t.attr("value");"0"==n.charAt(0)&&(n=n.replace("0",""));var i=e("select[name='Event"+a+"Year']").attr("value")%4;2==n&&0==i&&(n=0);var r=e("select[name='Event"+a+"Day']");e(".event"+a+"DateField").remove(),"Start"==a?(k=T[M[n]-28],k.val(r.val()),x.after(k)):(k=C[M[n]-28],k.val(r.val()),E.after(k))}),D.change(),e("select[name='EventStartYear']").change(function(){x.change()}),e("select[name='EventEndYear']").change(function(){E.change()});for(var F in tribe_events_linked_posts.post_types)tribe_events_linked_posts.post_types.hasOwnProperty(F)&&_(F)}var $=e("#StateProvinceSelect_chosen"),z=e("#StateProvinceSelect"),A=e("#StateProvinceText");n(e("#EventCountry > option:selected").val()),e("#EventCountry").change(function(){var t=e(this).find("option:selected").val();n(t)});var O={$container:e("#overwrite_coordinates")};O.$lat=O.$container.find("#VenueLatitude"),O.$lng=O.$container.find("#VenueLongitude"),O.$fields=e("").add(O.$lat).add(O.$lng),O.$toggle=O.$container.find("#VenueOverwriteCoords").on("change",function(e){O.$toggle.is(":checked")?O.$fields.prop("disabled",!1).removeClass("hidden"):O.$fields.prop("disabled",!0).addClass("hidden")}),O.$toggle.trigger("change"),e("#EventInfo input, #EventInfo select").change(function(){e(".rec-error").hide()});var P=e('.wp-admin.events-cal #post #publishing-action input[type="submit"]');P.click(function(){e(this).data("clicked",!0)}),e("body").hasClass("post-type-tribe_venue")&&e("#menu-posts-tribe_events, #menu-posts-tribe_events a.wp-has-submenu").addClass("wp-menu-open wp-has-current-submenu wp-has-submenu").removeClass("wp-not-current-submenu").find("li a[href='edit.php?post_type=tribe_venue']").parent().addClass("current"),e("body").hasClass("post-type-tribe_organizer")&&e("#menu-posts-tribe_events, #menu-posts-tribe_events a.wp-has-submenu").addClass("wp-menu-open wp-has-current-submenu wp-has-submenu").removeClass("wp-not-current-submenu").find("li a[href='edit.php?post_type=tribe_organizer']").parent().addClass("current");var N=e("#tribe-field-tribeEnableViews");if(N.length){var I=e('.tribe-field-dropdown_select2 select[name="viewOption"]'),Q=N.find("input:checkbox"),j=e("#tribe-field-tribeEnableViews .tribe-field-wrap p.description"),U={};i(),N.on("change","input:checkbox",function(){var t=e(this);e('[name="tribeEnableViews[]"]:checked').length<1?(t.attr("checked",!0),j.css("color","red")):j.removeAttr("style"),r()})}e("#tribe-community-events.form form").on("submit",function(){var t={start:l.find("#EventStartDate"),end:l.next("tr").find("#EventEndDate")};t.start.val(tribeDateFormat(t.start.datepicker("getDate"),"tribeQuery")),t.end.val(tribeDateFormat(t.end.datepicker("getDate"),"tribeQuery")),l.parent().find(".tribe-no-end-date-update").each(function(){$el=e(this),$el.is(":visible")&&$el.val(tribeDateFormat($el.datepicker("getDate"),"tribeQuery"))})})}),jQuery(document).ready(function(e){var t=e("#EventInfo").find("tr.event-timezone"),a=t.find("label"),n=t.find("select"),i=t.find(".chosen-container"),r=n.parent("td"),d=a.html(),o=n.find("option:selected").html(),s="<a href='#' class='change_tz'>"+d+" "+o+"</a>";a.hide(),i.hide(),r.append(s),r.find("a.change_tz").click(function(t){return t.stopImmediatePropagation(),e(this).hide(),i.show(),!1})});var tribe_dynamic_helper_text=tribe_dynamic_helper_text||{};!function(e,t){"use strict";t.field_class=".event-dynamic-helper-text",t.date_fmt_settings={dateSettings:{days:tribe_dynamic_help_text.days,daysShort:tribe_dynamic_help_text.daysShort,months:tribe_dynamic_help_text.months,monthsShort:tribe_dynamic_help_text.monthsShort}},t.date_fmt=new DateFormatter(t.date_fmt_settings),t.text=JSON.parse(tribe_dynamic_help_text.msgs),t.date_with_year=tribe_dynamic_help_text.date_with_year,t.date_no_year=tribe_dynamic_help_text.date_no_year,t.datepicker_format=tribe_dynamic_help_text.datepicker_format,t.dynamic_text,t.start_date,t.start_time,t.end_date,t.end_time,t.all_day="",t.init=function(){t.setup_and_display_text(),t.event_date_change()},t.setup_and_display_text=function(){t.update(),t.msg_logic(),t.parse_and_display_text()},t.update=function(){t.start_date=e("#EventStartDate").val(),t.start_time=e("#EventStartTime").val(),t.end_date=e("#EventEndDate").val(),t.end_time=e("#EventEndTime").val(),t.all_day=!!e("#allDayCheckbox").prop("checked")||""},t.msg_logic=function(){t.start_date!=t.end_date||t.all_day||t.start_time==t.end_time?t.start_date!=t.end_date||t.all_day||t.start_time!=t.end_time?t.start_date==t.end_date&&t.all_day?t.dynamic_text=t.text[2]:t.start_date==t.end_date||t.all_day?t.start_date!=t.end_date&&t.all_day&&(t.dynamic_text=t.text[4]):t.dynamic_text=t.text[3]:t.dynamic_text=t.text[1]:t.dynamic_text=t.text[0]},t.parse_and_display_text=function(){t.dynamic_text=t.dynamic_text.replace("%%starttime%%",t.start_time),t.dynamic_text=t.dynamic_text.replace("%%endtime%%",t.end_time),t.dynamic_text=t.dynamic_text.replace("%%startdatewithyear%%",t.date_formatter(t.start_date,t.datepicker_format,t.date_with_year)),t.dynamic_text=t.dynamic_text.replace("%%enddatewithyear%%",t.date_formatter(t.end_date,t.datepicker_format,t.date_with_year)),t.dynamic_text=t.dynamic_text.replace("%%startdatenoyear%%",t.date_formatter(t.start_date,t.datepicker_format,t.date_no_year)),t.dynamic_text=t.dynamic_text.replace("%%enddatenoyear%%",t.date_formatter(t.end_date,t.datepicker_format,t.date_no_year)),e(t.field_class).html(t.dynamic_text)},t.date_formatter=function(e,a,n){return t.date_fmt.formatDate(t.date_fmt.parseDate(e,a),n)},t.event_date_change=function(){e("#EventStartDate, #EventStartTime, #EventEndDate, #EventEndTime, #allDayCheckbox").on("change",function(){t.setup_and_display_text()})},e(function(){e("#eventDetails").hasClass("eventForm")&&t.init()})}(jQuery,tribe_dynamic_helper_text);